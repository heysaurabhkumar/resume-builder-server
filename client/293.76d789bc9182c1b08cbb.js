(self.webpackChunkclient=self.webpackChunkclient||[]).push([[293],{8293:(r,e,n)=>{"use strict";n.r(e),n.d(e,{AuthModule:()=>R});var t=n(665),o=n(8583),s=n(6440),i=n(639);let a=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-auth"]],decls:1,vars:0,template:function(r,e){1&r&&i._UZ(0,"router-outlet")},directives:[s.lC],styles:[""]}),r})();var d=n(1228);function l(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1,"Email is required."),i.qZA())}function u(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," This is not a valid Email!!! "),i.qZA())}function c(r,e){if(1&r&&(i.TgZ(0,"div",24),i.YNc(1,l,2,0,"div",25),i.YNc(2,u,2,0,"div",25),i.qZA()),2&r){i.oxw();const r=i.MAs(14);i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.pattern)}}function g(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," Username is required. "),i.qZA())}function f(r,e){if(1&r&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&r){i.oxw(2);const r=i.MAs(20);i.xp6(1),i.hij(" Username should be at least ",null==r.errors||null==r.errors.minlength?null:r.errors.minlength.requiredLength," characters. ")}}function Z(r,e){if(1&r&&(i.TgZ(0,"div",24),i.YNc(1,g,2,0,"div",25),i.YNc(2,f,2,1,"div",25),i.qZA()),2&r){i.oxw();const r=i.MAs(20);i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.minlength)}}function p(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," Password is required. "),i.qZA())}function m(r,e){if(1&r&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&r){i.oxw(2);const r=i.MAs(26);i.xp6(1),i.hij(" Password should be at least ",null==r.errors||null==r.errors.minlength?null:r.errors.minlength.requiredLength," characters. ")}}function v(r,e){if(1&r&&(i.TgZ(0,"div",24),i.YNc(1,p,2,0,"div",25),i.YNc(2,m,2,1,"div",25),i.qZA()),2&r){i.oxw();const r=i.MAs(26);i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.minlength)}}function h(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," Confirm Password is required. "),i.qZA())}function A(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," Password and Confirm Password should match. "),i.qZA())}function q(r,e){if(1&r&&(i.TgZ(0,"div",24),i.YNc(1,h,2,0,"div",25),i.YNc(2,A,2,0,"div",25),i.qZA()),2&r){i.oxw();const r=i.MAs(32),e=i.MAs(26);i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.required),i.xp6(1),i.Q6J("ngIf",r!=e)}}let w=(()=>{class r{constructor(r,e){this._auth=r,this._router=e}ngOnInit(){this._auth.loggedIn()&&(this._auth.logoutUser(),this._router.navigate(["/auth/register"]))}registerUser(r){this._auth.registerUser(r).subscribe(r=>{let e=JSON.parse(JSON.stringify(r));localStorage.setItem("token",e.token),this._router.navigate(["/users/profile"])},r=>{"Email already exists"===r.error?alert("Email already exists"):console.error(r)})}}return r.\u0275fac=function(e){return new(e||r)(i.Y36(d.e),i.Y36(s.F0))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-register"]],decls:36,vars:5,consts:[[1,"container"],[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","emailInput"],["required","","ngModel","","id","emailInput","name","email","type","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control","rounded-0"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","usernameInput"],["required","","minlength","4","ngModel","","id","usernameInput","name","username","type","text",1,"form-control","rounded-0"],["username","ngModel"],["for","passwordInput"],["required","","minlength","6","ngModel","","id","passwordInput","name","password","type","password",1,"form-control","rounded-0"],["password","ngModel"],["for","confirmPasswordInput"],["required","","minlength","6","ngModel","","id","confirmPasswordInput","name","confirmPassword","type","text",1,"form-control","rounded-0"],["confirmPassword","ngModel"],[1,"btn","btn-primary","float-right",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(r,e){if(1&r){const r=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"h3",5),i._uU(6,"Register"),i.qZA(),i.qZA(),i.TgZ(7,"div",6),i.TgZ(8,"form",7,8),i.NdJ("ngSubmit",function(){i.CHM(r);const n=i.MAs(9);return e.registerUser(n.value)}),i.TgZ(10,"div",9),i.TgZ(11,"label",10),i._uU(12,"Email"),i.qZA(),i._UZ(13,"input",11,12),i.YNc(15,c,3,2,"div",13),i.qZA(),i.TgZ(16,"div",9),i.TgZ(17,"label",14),i._uU(18,"Username"),i.qZA(),i._UZ(19,"input",15,16),i.YNc(21,Z,3,2,"div",13),i.qZA(),i.TgZ(22,"div",9),i.TgZ(23,"label",17),i._uU(24,"Password"),i.qZA(),i._UZ(25,"input",18,19),i.YNc(27,v,3,2,"div",13),i.qZA(),i.TgZ(28,"div",9),i.TgZ(29,"label",20),i._uU(30,"Confirm Password"),i.qZA(),i._UZ(31,"input",21,22),i.YNc(33,q,3,2,"div",13),i.qZA(),i.TgZ(34,"button",23),i._uU(35," Register "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&r){const r=i.MAs(9),e=i.MAs(14),n=i.MAs(20),t=i.MAs(26),o=i.MAs(32);i.xp6(15),i.Q6J("ngIf",e.touched&&e.invalid),i.xp6(6),i.Q6J("ngIf",n.touched&&n.invalid),i.xp6(6),i.Q6J("ngIf",t.touched&&t.invalid),i.xp6(6),i.Q6J("ngIf",o.touched&&o.invalid),i.xp6(1),i.Q6J("disabled",r.invalid)}},directives:[t._Y,t.JL,t.F,t.Fj,t.Q7,t.JJ,t.On,t.c5,o.O5,t.wO],styles:[""]}),r})();var T=n(3866);function _(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1,"Email is required."),i.qZA())}function I(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," This is not a valid Email!!! "),i.qZA())}function x(r,e){if(1&r&&(i.TgZ(0,"div",21),i.YNc(1,_,2,0,"div",22),i.YNc(2,I,2,0,"div",22),i.qZA()),2&r){i.oxw();const r=i.MAs(14);i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.pattern)}}function b(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," Password is required. "),i.qZA())}function M(r,e){if(1&r&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&r){i.oxw(2);const r=i.MAs(20);i.xp6(1),i.hij(" Password should be at least ",null==r.errors||null==r.errors.minlength?null:r.errors.minlength.requiredLength," characters. ")}}function U(r,e){if(1&r&&(i.TgZ(0,"div",21),i.YNc(1,b,2,0,"div",22),i.YNc(2,M,2,1,"div",22),i.qZA()),2&r){i.oxw();const r=i.MAs(20);i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.minlength)}}let J=(()=>{class r{constructor(r,e,n){this._auth=r,this._router=e,this._socialAuthService=n}ngOnInit(){this._auth.loggedIn()&&this._router.navigate(["users/profile"])}loginUser(r){this._auth.loginUser(r).subscribe(r=>{let e=JSON.parse(JSON.stringify(r));localStorage.setItem("token",e.token),this._router.navigate(["users/profile"])},r=>{"Invalid email"===r.error?alert("User not exists"):"Invalid password"===r.error?alert("Password Incorrect"):console.error(r)})}continueWithGoogle(){this._socialAuthService.signIn(T.tV.PROVIDER_ID).then(r=>{this._auth.continueWithGoogle({token:r.idToken}).subscribe(r=>{let e=JSON.parse(JSON.stringify(r));if(localStorage.setItem("token",e.token),e.firstTime)return alert("Set yout password first"),void this._router.navigate(["users/edit"]);this._router.navigate(["users/profile"])},r=>{console.log(r)})})}}return r.\u0275fac=function(e){return new(e||r)(i.Y36(d.e),i.Y36(s.F0),i.Y36(T.xE))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-login"]],decls:30,vars:3,consts:[[1,"container"],[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","emailInput"],["ngModel","","id","emailInput","name","email","type","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","required","",1,"form-control","rounded-0"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","passwordInput"],["ngModel","","id","passwordInput","minlength","6","name","password","type","password","required","",1,"form-control","rounded-0"],["password","ngModel"],["routerLink","/auth/forgot-password",1,"mt-10"],[1,"btn","btn-success","float-right",3,"disabled"],[1,"text-center","mt-3"],["type","button",1,"google","btn1",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(r,e){if(1&r){const r=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"h3",5),i._uU(6,"Login"),i.qZA(),i.qZA(),i.TgZ(7,"div",6),i.TgZ(8,"form",7,8),i.NdJ("ngSubmit",function(){i.CHM(r);const n=i.MAs(9);return e.loginUser(n.value)}),i.TgZ(10,"div",9),i.TgZ(11,"label",10),i._uU(12,"Email"),i.qZA(),i._UZ(13,"input",11,12),i.YNc(15,x,3,2,"div",13),i.qZA(),i.TgZ(16,"div",9),i.TgZ(17,"label",14),i._uU(18,"Password"),i.qZA(),i._UZ(19,"input",15,16),i.YNc(21,U,3,2,"div",13),i.qZA(),i.TgZ(22,"a",17),i._uU(23,"Forgot Password"),i.qZA(),i.TgZ(24,"button",18),i._uU(25," Login "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(26,"p",19),i._uU(27,"Or"),i.qZA(),i.TgZ(28,"button",20),i.NdJ("click",function(){return e.continueWithGoogle()}),i._uU(29," Continue with Google "),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&r){const r=i.MAs(9),e=i.MAs(14),n=i.MAs(20);i.xp6(15),i.Q6J("ngIf",e.touched&&e.invalid),i.xp6(6),i.Q6J("ngIf",n.touched&&n.invalid),i.xp6(3),i.Q6J("disabled",r.invalid)}},directives:[t._Y,t.JL,t.F,t.Fj,t.JJ,t.On,t.c5,t.Q7,o.O5,t.wO,s.yS],styles:[""]}),r})();function Y(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," Password is required. "),i.qZA())}function N(r,e){if(1&r&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&r){i.oxw(2);const r=i.MAs(14);i.xp6(1),i.hij(" Password should be at least ",null==r.errors||null==r.errors.minlength?null:r.errors.minlength.requiredLength," characters. ")}}function P(r,e){if(1&r&&(i.TgZ(0,"div",18),i.YNc(1,Y,2,0,"div",19),i.YNc(2,N,2,1,"div",19),i.qZA()),2&r){i.oxw();const r=i.MAs(14);i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.minlength)}}function y(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," Confirm Password is required. "),i.qZA())}function Q(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," Password and Confirm Password should match. "),i.qZA())}function S(r,e){if(1&r&&(i.TgZ(0,"div",18),i.YNc(1,y,2,0,"div",19),i.YNc(2,Q,2,0,"div",19),i.qZA()),2&r){i.oxw();const r=i.MAs(20),e=i.MAs(14);i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.required),i.xp6(1),i.Q6J("ngIf",r!=e)}}let O=(()=>{class r{constructor(r,e,n){this.route=r,this._authService=e,this._router=n}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.token=this.route.snapshot.paramMap.get("token")}resetPassword(r){r.id=this.id,r.token=this.token,this._authService.resetPassword(r).subscribe(r=>{alert("Password Changed..."),this._router.navigate(["/login"])},r=>{console.log(r)})}}return r.\u0275fac=function(e){return new(e||r)(i.Y36(s.gz),i.Y36(d.e),i.Y36(s.F0))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-reset-password"]],decls:24,vars:3,consts:[[1,"container"],[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","passwordInput"],["required","","minlength","6","ngModel","","id","passwordInput","name","password","type","password",1,"form-control","rounded-0"],["password","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","confirmPasswordInput"],["required","","minlength","6","ngModel","","id","confirmPasswordInput","name","confirmPassword","type","text",1,"form-control","rounded-0"],["confirmPassword","ngModel"],[1,"btn","btn-primary","float-right",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(r,e){if(1&r){const r=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"h3",5),i._uU(6,"Reset Password"),i.qZA(),i.qZA(),i.TgZ(7,"div",6),i.TgZ(8,"form",7,8),i.NdJ("ngSubmit",function(){i.CHM(r);const n=i.MAs(9);return e.resetPassword(n.value)}),i.TgZ(10,"div",9),i.TgZ(11,"label",10),i._uU(12,"New Password"),i.qZA(),i._UZ(13,"input",11,12),i.YNc(15,P,3,2,"div",13),i.qZA(),i.TgZ(16,"div",9),i.TgZ(17,"label",14),i._uU(18,"Confirm Password"),i.qZA(),i._UZ(19,"input",15,16),i.YNc(21,S,3,2,"div",13),i.qZA(),i.TgZ(22,"button",17),i._uU(23," Reset Password "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&r){const r=i.MAs(9),e=i.MAs(14),n=i.MAs(20);i.xp6(15),i.Q6J("ngIf",e.touched&&e.invalid),i.xp6(6),i.Q6J("ngIf",n.touched&&n.invalid),i.xp6(1),i.Q6J("disabled",r.invalid)}},directives:[t._Y,t.JL,t.F,t.Fj,t.Q7,t.wO,t.JJ,t.On,o.O5],styles:[""]}),r})();function k(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1,"Email is required."),i.qZA())}function F(r,e){1&r&&(i.TgZ(0,"div"),i._uU(1," This is not a valid Email!!! "),i.qZA())}function E(r,e){if(1&r&&(i.TgZ(0,"div",18),i.YNc(1,k,2,0,"div",19),i.YNc(2,F,2,0,"div",19),i.qZA()),2&r){i.oxw();const r=i.MAs(14);i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.required),i.xp6(1),i.Q6J("ngIf",null==r.errors?null:r.errors.pattern)}}function C(r,e){if(1&r&&(i.TgZ(0,"div",20),i._uU(1),i.qZA()),2&r){const r=i.oxw();i.xp6(1),i.hij(" ",r.successMessage," ")}}function z(r,e){if(1&r&&(i.TgZ(0,"div",21),i._uU(1),i.qZA()),2&r){const r=i.oxw();i.xp6(1),i.hij(" ",r.errorMessage," ")}}const j=[{path:"",component:a,children:[{path:"login",component:J},{path:"forgot-password",component:(()=>{class r{constructor(r){this._authService=r}ngOnInit(){}forgotPassword(r){this._authService.forgotPassword(r).subscribe(r=>{this.successMessage=r.message},r=>{this.errorMessage=r.error.message})}}return r.\u0275fac=function(e){return new(e||r)(i.Y36(d.e))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-forgot-password"]],decls:22,vars:4,consts:[[1,"container"],[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","emailInput"],["ngModel","","id","emailInput","name","email","type","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","required","",1,"form-control","rounded-0"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"mt-3"],[1,"btn","btn-primary","float-right",3,"disabled"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"]],template:function(r,e){if(1&r){const r=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"h3",5),i._uU(6,"Forgot Password"),i.qZA(),i.qZA(),i.TgZ(7,"div",6),i.TgZ(8,"form",7,8),i.NdJ("ngSubmit",function(){i.CHM(r);const n=i.MAs(9);return e.forgotPassword(n.value)}),i.TgZ(10,"div",9),i.TgZ(11,"label",10),i._uU(12,"Email"),i.qZA(),i._UZ(13,"input",11,12),i.YNc(15,E,3,2,"div",13),i.qZA(),i.TgZ(16,"h5",14),i._uU(17," A password reset link will be sent to your email. "),i.qZA(),i.TgZ(18,"button",15),i._uU(19," Send Link "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(20,C,2,1,"div",16),i.YNc(21,z,2,1,"div",17),i.qZA(),i.qZA(),i.qZA()}if(2&r){const r=i.MAs(9),n=i.MAs(14);i.xp6(15),i.Q6J("ngIf",n.touched&&n.invalid),i.xp6(3),i.Q6J("disabled",r.invalid),i.xp6(2),i.Q6J("ngIf",e.successMessage),i.xp6(1),i.Q6J("ngIf",e.errorMessage)}},directives:[t._Y,t.JL,t.F,t.Fj,t.JJ,t.On,t.c5,t.Q7,o.O5],styles:[""]}),r})()},{path:"reset-password/:id/:token",component:O},{path:"register",component:w}]}];let L=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[[s.Bz.forChild(j)],s.Bz]}),r})(),R=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[[o.ez,L,t.u5]]}),r})()}}]);